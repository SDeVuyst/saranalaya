{% extends "admin/index.html" %}
{% load static %}
{% load i18n %}
{% block bodyclass %}{{ block.super }} app-{{ app_label }}{% endblock %}
{% if not is_popup %}
{% block breadcrumbs %}
<div class="breadcrumbs">
  <a href="{% url 'admin:index' %}">{% translate 'Home' %}</a>
  &rsaquo;
  {% for app in app_list %}
  {{ app.name }}
  {% endfor %}
</div>
{% endblock %}
{% endif %}
{% block content %}

<!-- chartjs -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>
<script
  src="https://code.jquery.com/jquery-3.6.4.min.js"
  integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
  crossorigin="anonymous">
</script>

<!-- Include Select2 CSS and JS -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<link rel="stylesheet" href="{% static 'admin.css' %}">

<script src="{% static 'charts.js' %}"></script>

<div id="swapper">
  <div id="content-main">
    {% include "admin/app_list.html" with app_list=app_list show_changelinks=True %}
  </div>
  <div id="content-statistics">
    <h1>Statistics</h1>

    <form id="multiYearFilterForm">
      <label for="years">Choose years:</label>
      <select name="years" id="multiYearSelect" multiple></select>
      <input type="submit" value="Load" name="_load">
    </form>

    <div class="chartwrapper">
      <canvas id="donationsChart"></canvas>
    </div>

    <form id="singleYearFilterForm">
      <label for="years">Choose year:</label>
      <select name="years" id="singleYearSelect"></select>
      <input type="submit" value="Load" name="_load">
    </form>

    <div class="chartwrapper">
      <canvas id="moneyRatioChart"></canvas>
    </div>

  </div>
</div>
<!-- todo swap #swapper met #content-related-->
{% endblock %}