{% extends "admin/index.html" %}
{% load static %}
{% load i18n %}
{% block bodyclass %}{{ block.super }} app-{{ app_label }}{% endblock %}
{% if not is_popup %}
{% block breadcrumbs %}
<div class="breadcrumbs">
  <a href="{% url 'admin:index' %}">{% translate 'Home' %}</a>
  &rsaquo;
  {% for app in app_list %}
  {{ app.name }}
  {% endfor %}
</div>
{% endblock %}
{% endif %}
{% block content %}

<!-- chartjs -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>
<script
  src="https://code.jquery.com/jquery-3.6.4.min.js"
  integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
  crossorigin="anonymous">
</script>

<!-- Include Select2 CSS and JS -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>


<style>
  #multiYearFilterForm {
    font-family: Arial, sans-serif;
    margin: 20px;
  }
  
  label {
    display: block;
    margin-bottom: 10px;
    font-weight: bold;
  }
  
  select {
    width: 200px;
    height: 100px;
    padding: 5px;
    border: 1px solid #ccc;
    border-radius: 4px;
    background-color: #f9f9f9;
    font-size: 16px;
  }
  
  input[type="submit"] {
    margin-top: 10px;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    color: white;
    font-size: 16px;
    cursor: pointer;
  }
  
</style>

<div style="float: left">
  <div id="content-main">
    {% include "admin/app_list.html" with app_list=app_list show_changelinks=True %}
  </div>
  <div id="content-statistics">
    <h1>Statistics</h1>

    <script src="{% static 'charts.js' %}"></script>
    
    <form id="multiYearFilterForm">
      <label for="years">Choose years:</label>
      <select name="years" id="multiYearSelect" multiple></select>
      <input type="submit" value="Load" name="_load">
    </form>

    <canvas id="donationsChart"></canvas>

    <form id="singleYearFilterForm">
      <label for="years">Choose year:</label>
      <select name="years" id="singleYearSelect"></select>
      <input type="submit" value="Load" name="_load">
    </form>

    <canvas id="moneyRatioChart"></canvas>
    
  </div>
</div>
{% endblock %}