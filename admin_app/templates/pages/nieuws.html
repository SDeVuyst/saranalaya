{% extends 'detail_page.html' %}

{% load static i18n %}

{% block title %}{% trans 'News' %} | Care India{% endblock %}

<!-- TODO meta description tekst/vertaling-->
{% block meta %}
<meta name="description" content="{% blocktrans %}C.A.R.E. is een Vlaamse, kleinschalige en onafhankelijke organisatie die zich inzet voor straatkinderen in Chennai.{% endblocktrans %}">
<meta name="robots" content="index, follow">
<meta property="og:title" content="{% blocktrans %}News | Care India{% endblocktrans %}">
<meta property="og:description" content="{% blocktrans %}C.A.R.E. is een Vlaamse, kleinschalige en onafhankelijke organisatie die zich inzet voor straatkinderen in Chennai.{% endblocktrans %}">
<meta property="og:image" content="{% static 'img/logo.png' %}">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{% blocktrans %}News | Care India{% endblocktrans %}">
<meta name="twitter:description" content="{% blocktrans %}C.A.R.E. is een Vlaamse, kleinschalige en onafhankelijke organisatie die zich inzet voor straatkinderen in Chennai.{% endblocktrans %}">
<meta name="twitter:image" content="{% static 'img/logo.png' %}">
{% endblock %}

{% block main %}
<main class="main mx-5">
    <!-- Intro Section -->
    <section id="intro" class="intro section px-5 mt-5">
        <div class="container">
            <h1 class="pt-3" data-aos="fade-left" data-aos-delay="100">{% trans 'News' %}</h1>
            <!-- TODO tekst -->
            <p data-aos="fade-left" data-aos-delay="200">{% blocktrans %}Het kindertehuis Saranalaya bestaat uit een 50-tal straatartikels uit de streek rond Chennai in het zuiden van India.{% endblocktrans %}</p>
            <p data-aos="fade-left" data-aos-delay="200">{% blocktrans %}De meeste van onze artikels zijn halve wezen. Vaak blijft de moeder alleen achter nadat de vader (en dus de kostwinner) het gezin verlaten heeft of gestorven is. Het leven in de sloppenwijken is hard en dikwijls is het onmogelijk voor de moeder om in het onderhoud van haar kindje te voldoen, laat staan om het naar school te sturen. Er zijn ook enkele artikels in Saranalaya die geen ouders meer hebben.{% endblocktrans %}</p>
        </div>

    </section><!-- /Intro Section -->

    <!-- Nieuws Section -->
    <section class="section artikels px-5">
        <div class="container">
            <form data-aos="fade-in" data-aos-delay="300" method="get" class="mb-4">
                <div class="row g-3 align-items-end">
            
                    <!-- Name Filter -->
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <label class="form-label">{{ filter.form.title.label }}</label>
                        {{ filter.form.title }}
                    </div>
            
                    <!-- Date (from) -->
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <label class="form-label">{{ filter.form.date__gte.label }}</label>
                        {{ filter.form.date__gte }}
                    </div>
            
                    <!-- Date (to) -->
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <label class="form-label">{{ filter.form.date__lte.label }}</label>
                        {{ filter.form.date__lte }}
                    </div>
            
                    <!-- Filter + Reset Buttons -->
                    <div class="col-lg-2 col-md-3 col-sm-3">
                        <button type="submit" class="btn btn-primary w-100">{% trans 'Filter' %}</button>
                    </div>
                    <div class="col-lg-1 col-md-3 col-sm-3">
                        <a href="{% url 'news' %}" class="btn btn-outline-secondary w-100">{% trans 'Reset' %}</a>
                    </div>
            
                </div>
            </form>
            

            <!-- Artikels -->
            <div class="container mt-5">
                <div class="row gx-3">
                {% for artikel in artikels %}
                    {% include 'blocks/artikel.html' with artikel=artikel delay=forloop.counter|add:"00" %}
                {% empty %}
                    <p>{% trans 'No articles found.' %}</p>
                {% endfor %}
                </div>
            </div>

            <!-- Pagination -->
            <nav aria-label="Pagination">
                <ul class="pagination justify-content-center mt-4">
                    {% if artikels.has_previous %}
                        <li class="page-item">
                            <a class="page-link" href="?page=1{% if request.GET.name %}&name={{ request.GET.name }}{% endif %}{% if request.GET.age %}&age={{ request.GET.age }}{% endif %}">{% trans 'First' %}</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="?page={{ artikels.previous_page_number }}{% if request.GET.name %}&name={{ request.GET.name }}{% endif %}{% if request.GET.age %}&age={{ request.GET.age }}{% endif %}">{% trans 'Previous' %}</a>
                        </li>
                    {% endif %}

                    <li class="page-item disabled">
                        <span class="page-link">{% trans 'Page' %} {{ artikels.number }} {% trans 'of' %} {{ artikels.paginator.num_pages }}</span>
                    </li>

                    {% if artikels.has_next %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ artikels.next_page_number }}{% if request.GET.name %}&name={{ request.GET.name }}{% endif %}{% if request.GET.age %}&age={{ request.GET.age }}{% endif %}">{% trans 'Next' %}</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="?page={{ artikels.paginator.num_pages }}{% if request.GET.name %}&name={{ request.GET.name }}{% endif %}{% if request.GET.age %}&age={{ request.GET.age }}{% endif %}">{% trans 'Last' %}</a>
                        </li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </section><!-- /Nieuws Section -->

</main>
{% endblock %}